var page=$("html, body");$(document).ready(function(){function e(){w++;var e=parseInt(w/m*100);g.css("width",e+"%"),p.text(e)}function a(){var e=$(window).height();C.css("height",e+"px")}function o(){y.each(function(){var e=page.width(),a=page.height(),o=$(this).width(),s=$(this).height(),n=e/2-o/2+"px",i=a/2-s/2+"px";$(this).css({left:n,top:i})})}function s(){y.each(function(){$(this).get(0).play()})}function n(){var e=$(window).width();k.each(function(){var a=$(this),o=a.closest(".container").width(),s=e-o;a.css({left:"-"+s/2+"px",right:"-"+s/2+"px"})})}function i(){var e=$(window).height(),a=e/z;x.css("height",a+"px")}function t(){$("body").addClass("nav-open").addClass("disable-scroll"),x.each(function(){var e=this,a=$(e).index();setTimeout(function(){$(e).addClass("show")},75*(a+1))}),setTimeout(function(){q.addClass("blur")},250)}function d(){$("body").removeClass("nav-open").removeClass("disable-scroll"),x.removeClass("show"),setTimeout(function(){q.removeClass("blur")},150)}function l(e){var a=$(".animate-in",e);a.each(function(){var e=$(this),a=e.data("delay")||0;setTimeout(function(){e.addClass("reveal")},a)})}function r(){"undefined"==typeof I?I=_.parallax():I.parallax("enable")}function c(){"undefined"!=typeof I&&I.parallax("disable")}function h(){var e=$("section.active");if(e.is("#home")?(G.addClass("show"),J.removeClass("show")):G.removeClass("show"),e.hasClass("has-overlay")?(B.addClass("show"),F.addClass("show"),J.removeClass("show"),r()):(B.removeClass("show"),F.removeClass("show"),c()),e.hasClass("has-underlay")){var a=e.data("underlay-background");A.css("background-image","url("+a+")").addClass("show"),J.removeClass("show")}else A.removeClass("show");if(e.hasClass("has-background-image")){var o=e.data("background-image");E.css("background-image","url("+o+")").addClass("show")}else E.removeClass("show");e.is("#home")||e.hasClass("has-overlay")||e.hasClass("has-underlay")||J.addClass("show"),setTimeout(function(){l(e)},1e3)}function u(){}function v(){K.each(function(){var e=$(this).find(".timeline-content").offset().top,a=$(this).closest("section").offset().top,o=e-a+N+O,s=$(".timeline-border",this);s.css("top",o+"px")}),L.each(function(){var e=$(this).find(".timeline-body").last().height(),a=$(this).find(".timeline-content").innerHeight(),o=$(this).closest("section").height(),s=(o-a)/2+e-N,n=$(".timeline-border",this);n.css("bottom",s+"px")})}var f=$("img, video"),m=f.length,g=$("#loading-bar"),w=0,p=$("#loading-percentage .number");f.load(e),$(window).load(function(){var e=$("body"),a=$(".video-background"),o=$(".scroll-message");g.css("width","100%"),p.text("100"),e.addClass("loaded"),a.addClass("show"),setTimeout(function(){o.addClass("show")},3e3),setTimeout(function(){$("body").trigger("pageready.np")},2e3)});var C=$(".full-parent-height");a(),$(window).resize(a);var b,y=$(".video-background");matchMedia("only screen and (max-width: 768px)").matches&&(y.remove(),b=!0),$(window).resize(o),$(window).load(o),!b&&y.length>0&&$(window).load(s);var k=$(".quote-background-image");n(),$(window).resize($.debounce(250,n));var x=$("nav > ul > li"),T=$("a",x),z=x.length,M=$("#open-nav-button"),j=$("#close-nav-button"),q=$("#underlay, #clouds, .video-background"),D=$(".main");T.click(function(e){e.preventDefault();var a=$(this).attr("href"),o=$(a).index()+1;d(),D.moveTo(o)}),i(),$(window).resize(i),M.click(t),j.click(d);var H=$(".logo-container.horizontal > a");H.click(function(){D.moveTo("#home")});var I,_=$("#clouds"),A=$("#underlay"),B=$("#overlay"),E=$("#background-image"),F=$("#clouds"),G=$("#home-video"),J=($("#background-video"),$("#home #title"),$(".logo-container.horizontal"));$("body").on("pageready.np",function(){$("#main").onepage_scroll({sectionContainer:"section",easing:"ease",animationTime:1e3,keyboard:!0,direction:"vertical",pagination:!1,loop:!1,beforeMove:h,afterMove:u})});var K=$(".timeline-entry.start"),L=$(".timeline-entry.end"),N=30,O=50;$(window).load(v),$(window).resize($.debounce(250,v));var P=$("#music-icon");P.click(function(){$(this).hasClass("fa-volume-up")?$(this).removeClass("fa-volume-up").addClass("fa-volume-off").addClass("adjust-p-r-6"):$(this).removeClass("fa-volume-off").removeClass("adjust-p-r-6").addClass("fa-volume-up")})});