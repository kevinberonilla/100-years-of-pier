var page=$("html, body"),isDev=!1;$(document).ready(function(){function e(){function e(){o++;var e=parseInt(o/s*100);i.css("width",e+"%"),t.text(e)}var a=$("img, video"),s=a.length,i=$("#loading-bar"),o=0,t=$("#loading-percentage .number");a.load(e),$(window).load(function(){var e=$("body"),a=($("#home-video"),$(".scroll-message"));i.css("width","100%"),t.text("100"),setTimeout(function(){e.addClass("loaded"),C.addClass("show")},250),setTimeout(function(){$("body").trigger("pageready.np")},isDev?0:2e3),setTimeout(function(){a.addClass("show")},3e3)})}function a(){var e=$("#preload");$("[data-background-image]").each(function(){var a=$(this).data("background-image");e.append('<img src="'+a+'" alt="">')}),$('[style*="background-image"]').each(function(){var a=$(this).attr("style").replace("background-image: url(","").replace(")","").replace(";","");e.append('<img src="'+a+'" alt="">')})}function s(){var e=$(window).height();w.css("height",e+"px")}function i(){C.each(function(){var e=page.width(),a=page.height(),s=$(this).width(),i=$(this).height(),o=e/2-s/2+"px",t=a/2-i/2+"px";$(this).css({left:o,top:t})})}function o(){C.each(function(){$(this).get(0).play()})}function t(){var e=$(window).width();b.each(function(){var a=$(this),s=a.closest(".container").width(),i=e-s;a.css({left:"-"+i/2+"px",right:"-"+i/2+"px"})})}function n(){var e=$(window).height(),a=e/x;y.css("height",a+"px")}function l(){$("body").addClass("nav-open").addClass("disable-scroll"),y.each(function(){var e=this,a=$(e).index();setTimeout(function(){$(e).addClass("show")},75*(a+1))}),setTimeout(function(){q.addClass("blur")},250)}function d(){$("body").removeClass("nav-open").removeClass("disable-scroll"),y.removeClass("show"),setTimeout(function(){q.removeClass("blur")},150)}function r(e){var a=$(".animate-in",e);a.each(function(){var e=$(this),a=e.data("delay")||0;setTimeout(function(){e.addClass("reveal")},a)})}function c(){"undefined"==typeof j?j=M.parallax():j.parallax("enable")}function h(){"undefined"!=typeof j&&j.parallax("disable")}function u(){var e=$("section.active");if(e.is("#home")?(_.addClass("show"),B.removeClass("show")):_.removeClass("show"),e.hasClass("has-overlay")?(F.addClass("show"),P.addClass("show"),B.removeClass("show"),c()):(F.removeClass("show"),P.removeClass("show"),h()),e.hasClass("has-underlay")){var a=e.data("underlay-background");R.css("background-image","url("+a+")").addClass("show"),B.removeClass("show")}else R.removeClass("show");if(e.hasClass("has-background-image")){var s=e.data("background-image");I.css("background-image","url("+s+")").addClass("show")}else I.removeClass("show");e.is("#home")||e.hasClass("has-overlay")||e.hasClass("has-underlay")?A.removeClass("show"):(B.addClass("show"),A.addClass("show")),setTimeout(function(){r(e)},isDev?100:1e3)}function v(){E.each(function(){var e=$(this).find(".timeline-content").offset().top,a=$(this).closest("section").offset().top,s=e-a+J+K,i=$(".timeline-border",this);i.css("top",s+"px")}),G.each(function(){var e=$(this).find(".timeline-body").last().height(),a=$(this).find(".timeline-content").innerHeight(),s=$(this).closest("section").height(),i=$(this).find(".timeline-gallery").outerHeight(!0),o=$(this).find(".timeline-slider").outerHeight(!0),t=(s-a)/2+e+i+o-J,n=$(".timeline-border",this);n.css("bottom",t+"px")})}function f(){S.each(function(){var e=$(this),a=$(".quote-image",e),s=e.width(),i=e.height(),o=a.width(),t=a.height(),n=s-o,l=i-t,d=a.data("offset-x")||0,r=a.data("offset-y")||0;a.css({left:n/2+d+"px",top:l/2+r+"px"})})}function m(){var e=$("section.active .quote-body .animate-in");e.removeClass("reveal")}function g(){var e=$("section.active .quote-body .animate-in");e.addClass("reveal")}$.when(a()).done(e);var w=$(".full-parent-height");s(),$(window).resize(s);var p,C=$(".video-background");matchMedia("only screen and (max-width: 768px)").matches&&(C.remove(),p=!0),$(window).resize(i),$(window).load(i),!p&&C.length>0&&$(window).load(o);var b=$(".quote-background-image");t(),$(window).resize($.debounce(250,t));var y=$("nav > ul > li"),k=$("a",y),x=y.length,T=$("#open-nav-button"),z=$("#close-nav-button"),q=$("#underlay, #clouds, .video-background"),D=$(".main");k.click(function(e){e.preventDefault();var a=$(this).attr("href"),s=$(a).index()+1;d(),D.moveTo(s)}),n(),$(window).resize(n),T.click(l),z.click(d);var H=$(".logo-container.horizontal > a");H.click(function(){D.moveTo(1)});var j,M=$("#clouds"),R=$("#underlay"),F=$("#overlay"),I=$("#background-image"),P=$("#clouds"),_=$("#home-video"),A=$("#background-video"),B=($("#home #title"),$(".logo-container.horizontal"));$("body").on("pageready.np",function(){$("#main").onepage_scroll({sectionContainer:"section",easing:"ease",animationTime:isDev?100:1e3,keyboard:!0,direction:"vertical",pagination:!1,loop:!1,beforeMove:u})});var E=$(".timeline-entry.start"),G=$(".timeline-entry.end"),J=30,K=50;$(window).load(v),$(window).resize($.debounce(250,v));var L=$(".gallery.type-a"),N=L.closest(".container").width();L.each(function(){var e=$(".gallery-entry",this),a=e.first(),s=e.length;$(this).Cloud9Carousel({autoPlay:0,bringToFront:!0,smooth:!0,transforms:!0,speed:250,itemClass:"gallery-entry",yRadius:-25,xRadius:N/(s-1)}),a.addClass("active"),e.click(function(){e.removeClass("active"),$(this).addClass("active")})});var O=$(".gallery.type-b");O.each(function(){function e(){n=$(a).closest(".container").width(),l=n-(i-1)*(o+t)-t}var a=this,s=$("> li",a),i=s.length,o=140,t=10,n=$(a).closest(".container").width(),l=n-(i-1)*(o+t)-t;s.click(function(){s.removeClass("active").css("width",""),$(this).addClass("active").css("width",l+"px")}),$(window).resize($.debounce(250,e)),s.first().click()});var Q=$(".slider");$("section.has-slider");$(window).load(function(){Q.twentytwenty(),$(this).trigger("resize")});var S=$(".quote-image-container");S.hover(m,g),$(window).resize($.debounce(250,f)),$(window).load(f);var U=$("#music-icon");U.click(function(){$(this).hasClass("fa-volume-up")?$(this).removeClass("fa-volume-up").addClass("fa-volume-off").addClass("adjust-p-r-6"):$(this).removeClass("fa-volume-off").removeClass("adjust-p-r-6").addClass("fa-volume-up")})});