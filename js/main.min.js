var page=$("html, body");$(document).ready(function(){function e(){function e(){i++;var e=parseInt(i/o*100);s.css("width",e+"%"),t.text(e)}var a=$("img, video"),o=a.length,s=$("#loading-bar"),i=0,t=$("#loading-percentage .number");a.load(e),$(window).load(function(){var e=$("body"),a=($("#home-video"),$(".scroll-message"));s.css("width","100%"),t.text("100"),setTimeout(function(){e.addClass("loaded"),C.addClass("show")},250),setTimeout(function(){$("body").trigger("pageready.np")},2e3),setTimeout(function(){a.addClass("show")},3e3)})}function a(){var e=$("#preload");$("[data-background-image]").each(function(){var a=$(this).data("background-image");e.append('<img src="'+a+'" alt="">')}),$('[style*="background-image"]').each(function(){var a=$(this).attr("style").replace("background-image: url(","").replace(")","").replace(";","");e.append('<img src="'+a+'" alt="">')})}function o(){var e=$(window).height();w.css("height",e+"px")}function s(){C.each(function(){var e=page.width(),a=page.height(),o=$(this).width(),s=$(this).height(),i=e/2-o/2+"px",t=a/2-s/2+"px";$(this).css({left:i,top:t})})}function i(){C.each(function(){$(this).get(0).play()})}function t(){var e=$(window).width();b.each(function(){var a=$(this),o=a.closest(".container").width(),s=e-o;a.css({left:"-"+s/2+"px",right:"-"+s/2+"px"})})}function n(){var e=$(window).height(),a=e/x;y.css("height",a+"px")}function l(){$("body").addClass("nav-open").addClass("disable-scroll"),y.each(function(){var e=this,a=$(e).index();setTimeout(function(){$(e).addClass("show")},75*(a+1))}),setTimeout(function(){q.addClass("blur")},250)}function d(){$("body").removeClass("nav-open").removeClass("disable-scroll"),y.removeClass("show"),setTimeout(function(){q.removeClass("blur")},150)}function r(e){var a=$(".animate-in",e);a.each(function(){var e=$(this),a=e.data("delay")||0;setTimeout(function(){e.addClass("reveal")},a)})}function c(){"undefined"==typeof M?M=R.parallax():M.parallax("enable")}function h(){"undefined"!=typeof M&&M.parallax("disable")}function u(){var e=$("section.active");if(e.is("#home")?(X.addClass("show"),A.removeClass("show")):X.removeClass("show"),e.hasClass("has-overlay")?(F.addClass("show"),P.addClass("show"),A.removeClass("show"),c()):(F.removeClass("show"),P.removeClass("show"),h()),e.hasClass("has-underlay")){var a=e.data("underlay-background");D.css("background-image","url("+a+")").addClass("show"),A.removeClass("show")}else D.removeClass("show");if(e.hasClass("has-background-image")){var o=e.data("background-image");I.css("background-image","url("+o+")").addClass("show")}else I.removeClass("show");e.is("#home")||e.hasClass("has-overlay")||e.hasClass("has-underlay")?_.removeClass("show"):(A.addClass("show"),_.addClass("show")),setTimeout(function(){r(e)},1e3)}function v(){B.each(function(){var e=$(this).find(".timeline-content").offset().top,a=$(this).closest("section").offset().top,o=e-a+G+J,s=$(".timeline-border",this);s.css("top",o+"px")}),E.each(function(){var e=$(this).find(".timeline-body").last().height(),a=$(this).find(".timeline-content").innerHeight(),o=$(this).closest("section").height(),s=$(this).find(".timeline-gallery").outerHeight(!0),i=$(this).find(".timeline-slider").outerHeight(!0),t=(o-a)/2+e+s+i-G,n=$(".timeline-border",this);n.css("bottom",t+"px")})}function f(){S.each(function(){var e=$(this),a=$(".quote-image",e),o=e.width(),s=e.height(),i=a.width(),t=a.height(),n=o-i,l=s-t,d=a.data("offset-x")||0,r=a.data("offset-y")||0;a.css({left:n/2+d+"px",top:l/2+r+"px"})})}function m(){var e=$("section.active .quote-body .animate-in");e.removeClass("reveal")}function g(){var e=$("section.active .quote-body .animate-in");e.addClass("reveal")}$.when(a()).done(e);var w=$(".full-parent-height");o(),$(window).resize(o);var p,C=$(".video-background");matchMedia("only screen and (max-width: 768px)").matches&&(C.remove(),p=!0),$(window).resize(s),$(window).load(s),!p&&C.length>0&&$(window).load(i);var b=$(".quote-background-image");t(),$(window).resize($.debounce(250,t));var y=$("nav > ul > li"),k=$("a",y),x=y.length,T=$("#open-nav-button"),z=$("#close-nav-button"),q=$("#underlay, #clouds, .video-background"),H=$(".main");k.click(function(e){e.preventDefault();var a=$(this).attr("href"),o=$(a).index()+1;d(),H.moveTo(o)}),n(),$(window).resize(n),T.click(l),z.click(d);var j=$(".logo-container.horizontal > a");j.click(function(){H.moveTo(1)});var M,R=$("#clouds"),D=$("#underlay"),F=$("#overlay"),I=$("#background-image"),P=$("#clouds"),X=$("#home-video"),_=$("#background-video"),A=($("#home #title"),$(".logo-container.horizontal"));$("body").on("pageready.np",function(){$("#main").onepage_scroll({sectionContainer:"section",easing:"ease",animationTime:1e3,keyboard:!0,direction:"vertical",pagination:!1,loop:!1,beforeMove:u})});var B=$(".timeline-entry.start"),E=$(".timeline-entry.end"),G=30,J=50;$(window).load(v),$(window).resize($.debounce(250,v));var K=$(".gallery.type-a"),L=K.closest(".container").width();K.each(function(){var e=$(".gallery-entry",this),a=e.first(),o=e.length;$(this).Cloud9Carousel({autoPlay:0,bringToFront:!0,smooth:!0,transforms:!0,speed:250,itemClass:"gallery-entry",yRadius:-25,xRadius:L/(o-1)}),a.addClass("active"),e.click(function(){e.removeClass("active"),$(this).addClass("active")})});var N=$(".gallery.type-b");N.each(function(){function e(){n=$(a).closest(".container").width(),l=n-(s-1)*(i+t)-t}var a=this,o=$("> li",a),s=o.length,i=140,t=10,n=$(a).closest(".container").width(),l=n-(s-1)*(i+t)-t;o.click(function(){o.removeClass("active").css("width",""),$(this).addClass("active").css("width",l+"px")}),$(window).resize($.debounce(250,e)),o.first().click()});var O=$(".slider"),Q=$("section.has-slider");$(window).load(function(){O.twentytwenty(),$(this).trigger("resize")}),Q.mousemove(function(e){console.log(e.pageX)});var S=$(".quote-image-container");S.hover(m,g),$(window).resize($.debounce(250,f)),$(window).load(f);var U=$("#music-icon");U.click(function(){$(this).hasClass("fa-volume-up")?$(this).removeClass("fa-volume-up").addClass("fa-volume-off").addClass("adjust-p-r-6"):$(this).removeClass("fa-volume-off").removeClass("adjust-p-r-6").addClass("fa-volume-up")})});