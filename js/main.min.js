var page=$("html, body");$(document).ready(function(){function e(){function e(){t++;var e=parseInt(t/o*100);s.css("width",e+"%"),i.text(e)}var a=$("img, video"),o=a.length,s=$("#loading-bar"),t=0,i=$("#loading-percentage .number");a.load(e),$(window).load(function(){var e=$("body"),a=($("#home-video"),$(".scroll-message"));s.css("width","100%"),i.text("100"),setTimeout(function(){e.addClass("loaded"),p.addClass("show")},250),setTimeout(function(){$("body").trigger("pageready.np")},2e3),setTimeout(function(){a.addClass("show")},3e3)})}function a(){var e=$("#preload");$("[data-background-image]").each(function(){var a=$(this).data("background-image");e.append('<img src="'+a+'" alt="">')}),$('[style*="background-image"]').each(function(){var a=$(this).attr("style").replace("background-image: url(","").replace(")","").replace(";","");e.append('<img src="'+a+'" alt="">')})}function o(){var e=$(window).height();g.css("height",e+"px")}function s(){p.each(function(){var e=page.width(),a=page.height(),o=$(this).width(),s=$(this).height(),t=e/2-o/2+"px",i=a/2-s/2+"px";$(this).css({left:t,top:i})})}function t(){p.each(function(){$(this).get(0).play()})}function i(){var e=$(window).width();C.each(function(){var a=$(this),o=a.closest(".container").width(),s=e-o;a.css({left:"-"+s/2+"px",right:"-"+s/2+"px"})})}function n(){var e=$(window).height(),a=e/k;b.css("height",a+"px")}function l(){$("body").addClass("nav-open").addClass("disable-scroll"),b.each(function(){var e=this,a=$(e).index();setTimeout(function(){$(e).addClass("show")},75*(a+1))}),setTimeout(function(){z.addClass("blur")},250)}function d(){$("body").removeClass("nav-open").removeClass("disable-scroll"),b.removeClass("show"),setTimeout(function(){z.removeClass("blur")},150)}function r(e){var a=$(".animate-in",e);a.each(function(){var e=$(this),a=e.data("delay")||0;setTimeout(function(){e.addClass("reveal")},a)})}function c(){"undefined"==typeof j?j=H.parallax():j.parallax("enable")}function h(){"undefined"!=typeof j&&j.parallax("disable")}function u(){var e=$("section.active");if(e.is("#home")?(P.addClass("show"),A.removeClass("show")):P.removeClass("show"),e.hasClass("has-overlay")?(D.addClass("show"),I.addClass("show"),A.removeClass("show"),c()):(D.removeClass("show"),I.removeClass("show"),h()),e.hasClass("has-underlay")){var a=e.data("underlay-background");R.css("background-image","url("+a+")").addClass("show"),A.removeClass("show")}else R.removeClass("show");if(e.hasClass("has-background-image")){var o=e.data("background-image");F.css("background-image","url("+o+")").addClass("show")}else F.removeClass("show");e.is("#home")||e.hasClass("has-overlay")||e.hasClass("has-underlay")?_.removeClass("show"):(A.addClass("show"),_.addClass("show")),setTimeout(function(){r(e)},1e3)}function v(){}function f(){B.each(function(){var e=$(this).find(".timeline-content").offset().top,a=$(this).closest("section").offset().top,o=e-a+G+J,s=$(".timeline-border",this);s.css("top",o+"px")}),E.each(function(){var e=$(this).find(".timeline-body").last().height(),a=$(this).find(".timeline-content").innerHeight(),o=$(this).closest("section").height(),s=$(this).find(".timeline-gallery").outerHeight(!0),t=(o-a)/2+e+s-G,i=$(".timeline-border",this);i.css("bottom",t+"px")})}function m(){Q.each(function(){var e=$(this),a=$(".quote-image",e),o=e.width(),s=e.height(),t=a.width(),i=a.height(),n=o-t,l=s-i,d=a.data("offset-x")||0,r=a.data("offset-y")||0;a.css({left:n/2+d+"px",top:l/2+r+"px"})})}$.when(a()).done(e);var g=$(".full-parent-height");o(),$(window).resize(o);var w,p=$(".video-background");matchMedia("only screen and (max-width: 768px)").matches&&(p.remove(),w=!0),$(window).resize(s),$(window).load(s),!w&&p.length>0&&$(window).load(t);var C=$(".quote-background-image");i(),$(window).resize($.debounce(250,i));var b=$("nav > ul > li"),y=$("a",b),k=b.length,x=$("#open-nav-button"),T=$("#close-nav-button"),z=$("#underlay, #clouds, .video-background"),q=$(".main");y.click(function(e){e.preventDefault();var a=$(this).attr("href"),o=$(a).index()+1;d(),q.moveTo(o)}),n(),$(window).resize(n),x.click(l),T.click(d);var M=$(".logo-container.horizontal > a");M.click(function(){q.moveTo(1)});var j,H=$("#clouds"),R=$("#underlay"),D=$("#overlay"),F=$("#background-image"),I=$("#clouds"),P=$("#home-video"),_=$("#background-video"),A=($("#home #title"),$(".logo-container.horizontal"));$("body").on("pageready.np",function(){$("#main").onepage_scroll({sectionContainer:"section",easing:"ease",animationTime:1e3,keyboard:!0,direction:"vertical",pagination:!1,loop:!1,beforeMove:u,afterMove:v})});var B=$(".timeline-entry.start"),E=$(".timeline-entry.end"),G=30,J=50;$(window).load(f),$(window).resize($.debounce(250,f));var K=$(".gallery.type-a"),L=K.closest(".container").width();K.Cloud9Carousel({autoPlay:0,bringToFront:!0,smooth:!0,transforms:!0,speed:250,itemClass:"gallery-entry",yRadius:-25,xRadius:L/3}),K.each(function(){var e=$(".gallery-entry",this),a=e.first();a.addClass("active"),e.click(function(){e.removeClass("active"),$(this).addClass("active")})});var N=$(".gallery.type-b");N.each(function(){function e(){i=$(this).closest(".container").width(),n=i-o*s}var a=$("> li",this),o=a.length,s=140,t=10,i=$(this).closest(".container").width(),n=i-(o-1)*(s+t)-t;a.click(function(){a.removeClass("active").css("width",""),$(this).addClass("active").css("width",n+"px")}),$(window).resize($.debounce(250,e)),a.first().click()});var O=$(".slider");$(window).load(function(){O.twentytwenty()});var Q=$(".quote-image-container");$(window).resize($.debounce(250,m)),$(window).load(m);var S=$("#music-icon");S.click(function(){$(this).hasClass("fa-volume-up")?$(this).removeClass("fa-volume-up").addClass("fa-volume-off").addClass("adjust-p-r-6"):$(this).removeClass("fa-volume-off").removeClass("adjust-p-r-6").addClass("fa-volume-up")})});